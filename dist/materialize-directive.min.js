"use strict";angular.module("angular1-materialize",[]).factory("Materialize",function(){return Materialize}).directive("materialize",function(){function e(e,t,i,n,a){function r(){if(l()){var e=$(t),i=e.attr("data-tooltip-id");i&&$("#"+i).remove()}}function o(){if(Materialize&&Materialize.updateTextFields&&Materialize.updateTextFields(),u()&&d){var i=$(t);i.on("change",function(e){if(!e.originalEvent||!e.originalEvent.internalToMaterialize){var i=document.createEvent("CustomEvent");i.initCustomEvent("change",!1,!1,void 0),i.internalToMaterialize=!0,t.dispatchEvent(i)}}),d=!1}if(f()){var i=$(t);i.on("change",function(e){t.dispatchEvent(new CustomEvent("input"))})}if(s()){var i=$(t),n=m,a=e.params||[];i[e.functionName].apply(i,a),i.on("change",function(e){t.dispatchEvent(new CustomEvent("input"))});var r=i.siblings(".picker").first();i.on("click",function(){r.addClass("picker--focused picker--opened"),n(),$(".picker__holder").click(function(e){"picker__holder"===e.target.className&&r.removeClass("picker--focused picker--opened")}),i.change(function(){setTimeout(function(){n()},10)}),$(".picker__select--year").on("change",function(){setTimeout(function(){n()},10)}),$(".picker__select--month").on("change",function(){setTimeout(function(){n()},10)})})}c()}function c(i,n){i||(i=e.functionName),n||(n=e.params),p[i]||(p[i]=!0,$(document).ready(function(){if(p[i]=!1,i){var e=$(t);if(e[i])if(n){if(!(n instanceof Array))throw new Error("Params has to be an array.");e[i].apply(e,n)}else e[i]();else{if(!Materialize[i])throw new Error("Couldn't find materialize function ''"+i+"' on element or the global Materialize object.");if(n){if(!(n instanceof Array))throw new Error("Params has to be an array.");Materialize[i].apply(e,n)}else Materialize[i]()}}}))}function l(){return"tooltip"===e.functionName}function u(){return"material_select"===e.functionName}function s(){return"pickadate"===e.functionName}function f(){return"autocomplete"===e.functionName}function m(){$(".picker__clear").removeAttr("disabled"),$(".picker__today").removeAttr("disabled"),$(".picker__close").removeAttr("disabled"),$(".picker__select--year").removeAttr("disabled"),$(".picker__select--month").removeAttr("disabled")}var p={},d=!0;e.$watchCollection("params",function(){o()}),e.$watchCollection("selectOptions",function(){o()}),e.$on("$destroy",function(){r()}),e.init({emit:function(e){"string"==typeof e?c(e):c(e.action,e.params)}})}return{scope:{functionName:"@materialize",params:"=materializeParams",selectOptions:"=materializeSelectOptions",init:"&materializeInit"},restrict:"A",link:e}});